webpackJsonp([15],{144:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(13),o=e(57),i=(e.n(o),e(54)),u=(e.n(i),e(56)),c=(e.n(u),e(55)),a=(e.n(c),e(53)),f=(e.n(a),e(58)),s=e(28),d=e.n(s),p=e(59);r.default.use(d.a),r.default.config.productionTip=!1,new r.default({router:f.a,store:p.a}).$mount("#app")},145:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"initFoodShop",function(){return a}),e.d(t,"initShopDetailInfo",function(){return f}),e.d(t,"switchSid",function(){return s}),e.d(t,"switchShopCart",function(){return d}),e.d(t,"deleteShopCart",function(){return p}),e.d(t,"loginRefreshCart",function(){return h}),e.d(t,"selectWare",function(){return l}),e.d(t,"selectTable",function(){return m}),e.d(t,"login",function(){return g}),e.d(t,"logout",function(){return I}),e.d(t,"getOrderList",function(){return v}),e.d(t,"clearOrderList",function(){return _}),e.d(t,"orderDeposit",function(){return O}),e.d(t,"clearDeposit",function(){return b}),e.d(t,"orderTabChange",function(){return T});var r=e(143),o=e.n(r),i=e(5),u=e(15),c=e(61),a=function(n){var t=n.commit;return c.a.getFoodShopList().then(function(n){t(i.p,n.data)})},f=function(n,t){var e=n.commit;return c.a.getShopDetail(t).then(function(n){e(i.o,n.data)})},s=function(n,t){var e=n.commit;return new o.a(function(n){e(i.a,t),n()})},d=function(n,t){var e=n.commit;return new o.a(function(n,r){u.a("userinfo_"+u.b("skiId"))?(e(i.b,t),n()):r()})},p=function(n,t){var e=n.commit;return new o.a(function(n){e(i.c,t),n()})},h=function(n){var t=n.commit;return new o.a(function(n){t(i.d),n()})},l=function(n,t){var e=n.commit;return new o.a(function(n){e(i.e,t),n()})},m=function(n,t){var e=n.commit;return new o.a(function(n){e(i.g,t),n()})},g=function(n,t){var e=n.commit;return c.a.login(t).then(function(n){return n.data.success?(e(i.m,n.data.userinfo),{success:!0,redirectUrl:n.data.redirectUrl}):{success:!1,errorMsg:n.data.errorMsg}})},I=function(n){var t=n.commit;return new o.a(function(n){t(i.n),n()})},v=function(n,t){var e=n.commit;return c.a.getOrderList(t).then(function(n){e(i.j,n.data)})},_=function(n){var t=n.commit;return new o.a(function(n){t(i.k),n()})},O=function(n,t){var e=n.commit;return new o.a(function(n){e(i.h,t),n()})},b=function(n){var t=n.commit;return new o.a(function(n){t(i.i),n()})},T=function(n,t){var e=n.commit;return new o.a(function(n){e(i.l,t),n()})}},146:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"getShopLists",function(){return r}),e.d(t,"getShopDetailInfo",function(){return o}),e.d(t,"getShopCart",function(){return i}),e.d(t,"getSid",function(){return u}),e.d(t,"getWareInfo",function(){return c}),e.d(t,"getTableNum",function(){return a}),e.d(t,"userCenterInfo",function(){return f}),e.d(t,"getOrderList",function(){return s}),e.d(t,"getOrderType",function(){return d}),e.d(t,"depositInfo",function(){return p});var r=function(n){return n.shoplist.shops},o=function(n){return n.detail.shopInfo},i=function(n){return n.shopcart.shopcart[n.shopcart.sid]?n.shopcart.shopcart[n.shopcart.sid]:[]},u=function(n){return n.shopcart.sid},c=function(n){return n.shopcart.ware},a=function(n){return n.shopcart.tableNum},f=function(n){return n.user.userinfo},s=function(n){return n.order.orderList},d=function(n){return n.order.orderType},p=function(n){return n.deposit.info}},147:function(n,t,e){"use strict";var r,o=e(9),i=e.n(o),u=e(5),c={info:""},a=(r={},i()(r,u.h,function(n,t){n.info=t}),i()(r,u.i,function(n){n.info=""}),r);t.a={state:c,mutations:a}},148:function(n,t,e){"use strict";var r=e(9),o=e.n(r),i=e(5),u={shopInfo:""},c=o()({},i.o,function(n,t){n.shopInfo=t});t.a={state:u,mutations:c}},149:function(n,t,e){"use strict";var r,o=e(9),i=e.n(o),u=e(5),c={orderList:[],orderType:""},a=(r={},i()(r,u.j,function(n,t){n.orderList=t}),i()(r,u.k,function(n){n.orderList=[]}),i()(r,u.l,function(n,t){n.orderType=t}),r);t.a={state:c,mutations:a}},15:function(n,t,e){"use strict";function r(n,t,e){var r=new Date;r.setDate(r.getDate()+e),document.cookie=n+"="+escape(a()(t))+(null==e?"":";expires="+r.toGMTString())+";path=/"}function o(n){if(document.cookie.length>0){var t=document.cookie.indexOf(n+"=");if(-1!=t){t=t+n.length+1;var e=document.cookie.indexOf(";",t);return-1==e&&(e=document.cookie.length),JSON.parse(unescape(document.cookie.substring(t,e)))}}return""}function i(n){if(document.cookie.length>0){if(-1!=document.cookie.indexOf(n+"="))return!0}return!1}function u(n){var t=new Date;t.setTime(t.getTime()-1);var e=o(n);null!=e&&(document.cookie=n+"="+e+";expires="+t.toGMTString()+";path=/")}e.d(t,"d",function(){return r}),e.d(t,"b",function(){return o}),e.d(t,"a",function(){return i}),e.d(t,"c",function(){return u});var c=e(63),a=e.n(c)},150:function(n,t,e){"use strict";function r(){return!!p.a("skiId")&&"userinfo_"+p.b("skiId")}function o(){var n=r();if(!n)return!1;if(p.a(n)){var t=p.b(n).userId;return"food_shopcart_"+p.b("skiId")+"_"+t}return!1}function i(){var n=o();return!(!n||!p.a(n))&&p.b(n)}var u,c=e(9),a=e.n(c),f=e(29),s=e.n(f),d=e(5),p=e(15),h={sid:"",shopcart:i()||{},ware:"",tableNum:""},l=(u={},a()(u,d.a,function(n,t){n.sid=t}),a()(u,d.b,function(n,t){var e=n.shopcart[t.sid];if(!e){var r={};r[t.sid]=[],n.shopcart=s()({},n.shopcart,r),e=n.shopcart[t.sid]}var i=!0,u=!1,c=-1;e.forEach(function(n,e){n.id==t.food.id&&(i=!1,n.count+=t.food.count,n.count||(u=!0,c=e))}),i&&e.push(t.food),u&&e.splice(c,1),p.c(o()),p.d(o(),n.shopcart)}),a()(u,d.c,function(n,t){n.shopcart[t.sid]=[],p.c(o()),p.d(o(),n.shopcart),t.ware&&(n.ware="")}),a()(u,d.d,function(n){var t=i()||{};n.shopcart=t}),a()(u,d.e,function(n,t){n.ware=t}),a()(u,d.f,function(n,t){n.ware&&(n.ware.count=t)}),a()(u,d.g,function(n,t){n.tableNum=t}),u);t.a={state:h,mutations:l}},151:function(n,t,e){"use strict";var r=e(9),o=e.n(r),i=e(5),u={shops:[]},c=o()({},i.p,function(n,t){n.shops=t});t.a={state:u,mutations:c}},152:function(n,t,e){"use strict";function r(){return!!a.a("skiId")&&"userinfo_"+a.b("skiId")}var o,i=e(9),u=e.n(i),c=e(5),a=e(15),f={userinfo:function(){var n=r();return!!n&&(!!a.a(n)&&a.b(n))}()||""},s=(o={},u()(o,c.m,function(n,t){a.d(r(),t,3600),n.userinfo=t}),u()(o,c.n,function(n){a.c(r()),n.userinfo=""}),o);t.a={state:f,mutations:s}},5:function(n,t,e){"use strict";e.d(t,"p",function(){return r}),e.d(t,"o",function(){return o}),e.d(t,"a",function(){return i}),e.d(t,"b",function(){return u}),e.d(t,"c",function(){return c}),e.d(t,"d",function(){return a}),e.d(t,"e",function(){return f}),e.d(t,"f",function(){return s}),e.d(t,"g",function(){return d}),e.d(t,"m",function(){return p}),e.d(t,"n",function(){return h}),e.d(t,"j",function(){return l}),e.d(t,"l",function(){return m}),e.d(t,"k",function(){return g}),e.d(t,"h",function(){return I}),e.d(t,"i",function(){return v});var r="INIT_SHOP_LIST",o="INIT_SHOP_DETAIL_INFO",i="SWITCH_SID",u="SWITCH_FOOD_IN_CART",c="DELETE_FOOD_IN_CART",a="LOGING_REFRESH_FOOD_CART",f="INIT_WARE_INFO",s="SWITCH_WARE_COUNT",d="SWITCH_TABLE_NUMBER",p="INIT_LOGING_USER",h="USER_LOGOUT_ACTION",l="INIT_ORDER_LIST",m="SWITCH_ORDER_TYPE",g="CLEAR_ORDER_LIST",I="DEPOSIT_ORDER_INFO",v="CLEAR_DEPOSIT_INFO"},53:function(n,t){},54:function(n,t){},55:function(n,t){},56:function(n,t){},57:function(n,t){},58:function(n,t,e){"use strict";var r=e(29),o=e.n(r),i=e(13),u=e(140),c=e(15);i.default.use(u.a);var a=function(n){e.e(6).then(function(){n(e(67))}.bind(null,e)).catch(e.oe)},f=function(n){e.e(0).then(function(){n(e(72))}.bind(null,e)).catch(e.oe)},s=function(n){e.e(2).then(function(){n(e(70))}.bind(null,e)).catch(e.oe)},d=function(n){e.e(5).then(function(){n(e(75))}.bind(null,e)).catch(e.oe)},p=function(n){e.e(7).then(function(){n(e(80))}.bind(null,e)).catch(e.oe)},h=function(n){e.e(11).then(function(){n(e(68))}.bind(null,e)).catch(e.oe)},l=function(n){e.e(3).then(function(){n(e(73))}.bind(null,e)).catch(e.oe)},m=function(n){e.e(4).then(function(){n(e(77))}.bind(null,e)).catch(e.oe)},g=function(n){e.e(13).then(function(){n(e(79))}.bind(null,e)).catch(e.oe)},I=function(n){e.e(10).then(function(){n(e(69))}.bind(null,e)).catch(e.oe)},v=function(n){e.e(9).then(function(){n(e(74))}.bind(null,e)).catch(e.oe)},_=function(n){e.e(1).then(function(){n(e(76))}.bind(null,e)).catch(e.oe)},O=function(n){e.e(12).then(function(){n(e(78))}.bind(null,e)).catch(e.oe)},b=function(n){e.e(8).then(function(){n(e(71))}.bind(null,e)).catch(e.oe)},T=new u.a({mode:"history",base:"/food/",routes:[{path:"/",component:a},{path:"/shop",component:f},{path:"/usercenter",component:p,meta:{requiresAuth:!0}},{path:"/login",component:h},{path:"/order",component:l,meta:{requiresAuth:!0}},{path:"/order_third",component:m,meta:{requiresAuth:!0}},{path:"/userinfo",component:g,meta:{requiresAuth:!0}},{path:"/pay",component:I,meta:{requiresAuth:!0}},{path:"/payFood",component:s,meta:{requiresAuth:!0}},{path:"/order_deposit",component:v,meta:{requiresAuth:!0}},{path:"/order_qrcode",component:_,meta:{requiresAuth:!0}},{path:"/qrcode_info",component:O,meta:{requiresAuth:!0}},{path:"/payDeposit",component:b,meta:{requiresAuth:!0}},{path:"/order_food",component:d,meta:{requiresAuth:!0}}]});T.beforeEach(function(n,t,e){return c.a("skiId")&&!n.query.skiId?void e({path:n.path,query:o()(n.query,{skiId:c.b("skiId")})}):c.a("jfyopenid")&&c.a("openid")&&c.a("skiId")?(c.a("newscenic")&&(c.c("newscenic"),c.c("userinfo")),c.a("scenicinfo")&&(document.title=c.b("scenicinfo")?c.b("scenicinfo"):"金色飞鹰"),void(n.matched.some(function(n){return n.meta.requiresAuth})?c.a("userinfo_"+c.b("skiId"))?e():e({path:"/login",query:{redirect:n.fullPath}}):e())):void(window.location.href="http://wei.softykt.com/?skiId="+n.query.skiId+"&cat=2")}),t.a=T},59:function(n,t,e){"use strict";var r=e(13),o=e(60),i=e(145),u=e(146),c=e(151),a=e(150),f=e(148),s=e(152),d=e(149),p=e(147);r.default.use(o.a);var h=new o.a.Store({actions:i,getters:u,modules:{shoplist:c.a,detail:f.a,user:s.a,order:d.a,deposit:p.a,shopcart:a.a}});t.a=h},61:function(n,t,e){"use strict";function r(n){var t={};return n&&(t.params=n),t}var o=e(88),i=e.n(o);t.a={getFoodShopList:function(){return i.a.get("/api/getFoodShopList",r())},getShopDetail:function(n){return i.a.get("/api/getShopDetail",r(n))},payFood:function(n){return i.a.post("/api/payFood",n,r())},getFoodOrder:function(n){return i.a.get("/api/getFoodOrder",r(n))},deleteFoodOrder:function(n){return i.a.post("/api/deleteFoodOrder",n,r())},getFoodOrderDetail:function(n){return i.a.get("/api/getFoodOrderDetail",r(n))},sendQrcode:function(n){return i.a.post("/api/sendQrcode",n,r())},login:function(n){return i.a.post("/api/login",n,r())},getOrderList:function(n){return i.a.get("/api/getOrderList",r(n))},getOrderDetail:function(n){return i.a.get("/api/getOrderDetail",r(n))},assocaiteOrder:function(n){return i.a.post("/api/assocaiteOrder",n,r())},payDeposit:function(n){return i.a.post("/api/payDeposit",n,r())},getQrcodeInfo:function(n){return i.a.get("/api/getQrcodeInfo",r(n))},getPayJsParameters:function(n){return i.a.post("/api/getPayJsParameters",n,r())},remark:function(n){return i.a.post("/api/remark",n,r())},deleteOrder:function(n){return i.a.post("/api/deleteOrder",n,r())},payBack:function(n){return i.a.post("/api/payBack",n,r())},unbindOrder:function(n){return i.a.post("/api/unbindOrder",n,r())},getUserField:function(n){return i.a.get("/api/getUserField",r(n))},saveUserInfo:function(n){return i.a.post("/api/saveUserInfo",n,r())},getQrcodeNeedInfo:function(n){return i.a.get("/api/getQrcodeNeedInfo",r())},saveQrocdeInfo:function(n){return i.a.post("/api/saveQrocdeInfo",n,r())}}}},[144]);
//# sourceMappingURL=app.2e852542906aae456f08.js.map